

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing the IBM Blockchain Platform &mdash; Ansible Collection  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../contents.html" class="icon icon-home"> Ansible Collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_at.html">ibmi_at – Schedule a batch job on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_copy.html">ibmi_copy – Copy a save file from local to a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_device_vary.html">ibmi_device_vary – vary on or off target device on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_display_subsystem.html">ibmi_display_subsystem – display all currently active subsystems or currently active jobs in a subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_end_subsystem.html">ibmi_end_subsystem – end a subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_fetch.html">ibmi_fetch – Fetch objects or a library from a remote IBMi node and store on local</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_fix.html">ibmi_fix – Install, remove or query an individual fix or a set of fixes on to IBM i system.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_fix_imgclg.html">ibmi_fix_imgclg – Install fixes such as PTF, PTF Group, Technology refresh to the target IBM i system by image catalog.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_host_server_service.html">ibmi_host_server_service – Manage host server on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_iasp.html">ibmi_iasp – Control IASP on target IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_job.html">ibmi_job – Returns job information according to inputs.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_lib_restore.html">ibmi_lib_restore – Restore one library on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_lib_save.html">ibmi_lib_save – Save one libary on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_message.html">ibmi_message – Search or reply message on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_object_authority.html">ibmi_object_authority – Grant, Revoke or Display Object Authority</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_object_find.html">ibmi_object_find – Find specific IBM i object(s).</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_object_restore.html">ibmi_object_restore – Restore one or more objects on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_object_save.html">ibmi_object_save – Save one or more objects on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_reboot.html">ibmi_reboot – Reboot a machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_save_product_to_savf.html">ibmi_save_product_to_savf – Save the the licensed program(product) to a save file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_script.html">ibmi_script – Execute a local cl/sql script file on a remote ibm i node.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_script_execute.html">ibmi_script_execute – Execute a cl/sql script file on a remote ibm i node.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_sql_execute.html">ibmi_sql_execute – Executes a SQL non-DQL(Data Query Language) statement on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_sql_query.html">ibmi_sql_query – Executes a SQL DQL(Data Query Language) statement on a remote IBMi node.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_start_subsystem.html">ibmi_start_subsystem – start a subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_submit_job.html">ibmi_submit_job – Submit a job on IBM i system. This module functions like SBMJOB.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_sync.html">ibmi_sync – Synchronize a save file from current ibm i node A to another ibm i node B.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_synchronize.html">ibmi_synchronize – Synchronize a save file from ibm i node A to another ibm i node B.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_tcp_interface.html">ibmi_tcp_interface – Add, change, remove or query a tcp/ip interface.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_tcp_server_service.html">ibmi_tcp_server_service – Manage tcp server on a remote IBMi node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_uninstall_product.html">ibmi_uninstall_product – delete the objects that make up the licensed program(product)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/ibmi_user_and_group.html">ibmi_user_and_group – Create, Change or Display a user(or group) profile</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Ansible Collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../contents.html">Docs</a> &raquo;</li>
        
      <li>Installing the IBM Blockchain Platform</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/LiJunBJZhu/i_collection_core/blob/master/docs/source/tutorials/installing.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-the-ibm-blockchain-platform">
<h1>Installing the IBM Blockchain Platform<a class="headerlink" href="#installing-the-ibm-blockchain-platform" title="Permalink to this headline">¶</a></h1>
<p>This tutorial will demonstrate how to use the IBM Blockchain Platform collection for Ansible to automate the installation of the IBM Blockchain Platform software into a Kubernetes or Red Hat OpenShift cluster.</p>
<p>This tutorial uses the <code class="docutils literal notranslate"><span class="pre">ibm.blockchain_platform.console</span></code> role to install the IBM Blockchain Platform. You can review the documentation for this role to find all of the options that are available to customize the installation process: <a class="reference external" href="../roles/console.html">console</a></p>
<div class="section" id="before-you-start">
<h2>Before you start<a class="headerlink" href="#before-you-start" title="Permalink to this headline">¶</a></h2>
<p>Ensure that you have installed all of the pre-requisite software described in <a class="reference external" href="../installation.html">Installation</a>.</p>
<p>You must have access to a Kubernetes or Red Hat OpenShift cluster that is supported for use with the IBM Blockchain Platform. Review the list of supported platforms in the IBM Blockchain Platform documentation: <a class="reference external" href="https://cloud.ibm.com/docs/blockchain-sw-213?topic=blockchain-sw-213-console-ocp-about#console-ocp-about-prerequisites">Supported Platforms</a></p>
<p>If you have a Kubernetes cluster, you must have the Kubernetes CLI (<code class="docutils literal notranslate"><span class="pre">kubectl</span></code>) installed and configured to use your Kubernetes cluster. Verify that it is working by running the following command:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="n">get</span> <span class="n">nodes</span>
</pre></div>
</div>
</div></blockquote>
<p>If you have a Red Hat OpenShift cluster, you must have the Red Hat OpenShift CLI (<code class="docutils literal notranslate"><span class="pre">oc</span></code>) installed and configured to use your Red Hat OpenShift cluster. Verify that it is working by running the following command:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oc</span> <span class="n">get</span> <span class="n">nodes</span>
</pre></div>
</div>
</div></blockquote>
<p>The IBM Blockchain Platform must be installed into a Kubernetes namespace or Red Hat OpenShift project. If you do not have permissions to create a namespace or project, then ask your administrator to create it for you.</p>
<p>Finally, you must have purchased an entitlement to use the IBM Blockchain Platform. You will need your entitlement key in order to complete this tutorial. For more information, see the IBM Blockchain Platform documentation: <a class="reference external" href="https://cloud.ibm.com/docs/blockchain-sw-213?topic=blockchain-sw-213-console-ocp-about#console-ocp-about-license">License and pricing</a></p>
</div>
<div class="section" id="creating-the-playbook">
<h2>Creating the playbook<a class="headerlink" href="#creating-the-playbook" title="Permalink to this headline">¶</a></h2>
<p>Create a new Ansible playbook file called <cite>install-ibp.yml</cite>. Copy and paste the content for Kubernetes or Red Hat OpenShift into this new playbook, depending on the type of cluster that you are using:</p>
<p><strong>Kubernetes</strong></p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deploy IBM Blockchain Platform console</span>
  <span class="nt">hosts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">vars</span><span class="p">:</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="nt">target</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">k8s</span>
    <span class="nt">arch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">amd64</span>
    <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;namespace&gt;</span>
    <span class="nt">image_registry_password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;image_registry_password&gt;</span>
    <span class="nt">image_registry_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;image_registry_email&gt;</span>
    <span class="nt">console_domain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_domain&gt;</span>
    <span class="nt">console_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_email&gt;</span>
    <span class="nt">console_default_password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_default_password&gt;</span>
    <span class="nt">wait_timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3600</span>
  <span class="nt">roles</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ibm.blockchain_platform.console</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Red Hat OpenShift</strong></p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deploy IBM Blockchain Platform console</span>
  <span class="nt">hosts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">vars</span><span class="p">:</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="nt">target</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">openshift</span>
    <span class="nt">arch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">amd64</span>
    <span class="nt">project</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;project&gt;</span>
    <span class="nt">image_registry_password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;image_registry_password&gt;</span>
    <span class="nt">image_registry_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;image_registry_email&gt;</span>
    <span class="nt">console_domain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_domain&gt;</span>
    <span class="nt">console_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_email&gt;</span>
    <span class="nt">console_default_password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;console_default_password&gt;</span>
    <span class="nt">wait_timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3600</span>
  <span class="nt">roles</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ibm.blockchain_platform.console</span>
</pre></div>
</div>
</div></blockquote>
<p>Next, you will need to replace the variable placeholders with the required values.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;namespace&gt;</span></code> with the name of the Kubernetes namespace, or <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> with the name of the Red Hat OpenShift project, that you are installing the IBM Blockchain Platform into.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;image_registry_password&gt;</span></code> with your IBM Blockchain Platform entitlement key.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;image_registry_email&gt;</span></code> with the email address of your IBMid account that you use to access the My IBM dashboard.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;console_domain&gt;</span></code> with the domain name of your Kubernetes cluster or Red Hat OpenShift cluster. This domain name is used as the base domain name for all ingress or routes created by the IBM Blockchain Platform.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;console_email&gt;</span></code> with the email address of the IBM Blockchain Platform console user that will be created during the installation process. You will use this email address to access the IBM Blockchain Platform console after installation.</p>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;console_default_password&gt;</span></code> with the default password for the IBM Blockchain Platform console. This default password will be set as the password for all new users, including the user created during the installation process.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">&lt;wait_timeout&gt;</span></code> variable is set to <code class="docutils literal notranslate"><span class="pre">3600</span></code> seconds (1 hour), which should be sufficient for most environments. You only need to change the value for this variable if you find that timeout errors occur during the installation process.</p>
</div>
<div class="section" id="running-the-playbook">
<h2>Running the playbook<a class="headerlink" href="#running-the-playbook" title="Permalink to this headline">¶</a></h2>
<p>Run the Ansible playbook file you created in the previous step by running the following command:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">ansible-playbook install-ibp.yml</span>
</pre></div>
</div>
</div></blockquote>
<p>The Ansible playbook will take some time to run. As the playbook runs, it will output information on the tasks being executed.</p>
<p>At the end of the output, you should see text similar to the following:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>TASK [console : Wait for console to start] ***********************************************************************
ok: [localhost]

TASK [console : Print console URL] *******************************************************************************
ok: [localhost] =&gt; {
    &quot;msg&quot;: &quot;IBM Blockchain Platform console available at https://my-namespace-ibp-console-console.apps.my-openshift-cluster.example.org&quot;
}

TASK [console : Delete console] **********************************************************************************
skipping: [localhost]

PLAY RECAP *******************************************************************************************************
localhost                  : ok=19   changed=4    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0
</pre></div>
</div>
</div></blockquote>
<p>Ensure that no errors are reported in the output. Ensure that the failure count in the final <code class="docutils literal notranslate"><span class="pre">PLAY</span> <span class="pre">RECAP</span></code> section is 0.</p>
<p>The URL of the IBM Blockchain Platform console is displayed as part of the output for the <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">console</span> <span class="pre">URL</span></code> task. When you access this URL, you can log in with the email and default password that you specified in your Ansible playbook.</p>
<p>You have now finished installing the IBM Blockchain Platform software.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Simon Stone

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>